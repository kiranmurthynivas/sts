{"ast":null,"code":"var _jsxFileName = \"C:\\\\aya\\\\client\\\\src\\\\components\\\\HabitDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useWallet } from '../contexts/WalletContext';\nimport './HabitDetail.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst HabitDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    sendTransaction,\n    account\n  } = useWallet();\n  const [habit, setHabit] = useState(null);\n  const [logs, setLogs] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [logging, setLogging] = useState(false);\n  const [showLogForm, setShowLogForm] = useState(false);\n  const [logForm, setLogForm] = useState({\n    completed: true,\n    notes: '',\n    date: new Date().toISOString().split('T')[0]\n  });\n  useEffect(() => {\n    fetchHabitDetails();\n    fetchHabitStats();\n  }, [id]);\n  const fetchHabitDetails = async () => {\n    try {\n      const response = await axios.get(`/habits/${id}`);\n      setHabit(response.data.habit);\n      setLogs(response.data.logs || []);\n    } catch (error) {\n      var _error$response;\n      console.error('Error fetching habit details:', error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 404) {\n        navigate('/dashboard');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchHabitStats = async () => {\n    try {\n      const response = await axios.get(`/habits/${id}/stats`);\n      setStats(response.data.stats);\n    } catch (error) {\n      console.error('Error fetching habit stats:', error);\n    }\n  };\n  const handleLogHabit = async e => {\n    e.preventDefault();\n    if (!account) {\n      alert('Please connect your wallet first');\n      return;\n    }\n    setLogging(true);\n    try {\n      const response = await axios.post(`/habits/${id}/log`, logForm);\n      const {\n        mcpResult\n      } = response.data;\n\n      // If there's a blockchain transaction to execute\n      if (mcpResult && mcpResult.txData) {\n        try {\n          const tx = await sendTransaction(mcpResult.txData.to, mcpResult.txData.value, mcpResult.txData.gasLimit);\n\n          // Update transaction with real hash\n          await axios.put(`/transactions/${mcpResult.transaction.id}/status`, {\n            status: 'pending',\n            transactionHash: tx.hash\n          });\n          alert(`Transaction sent! ${mcpResult.aiMessage}`);\n        } catch (txError) {\n          console.error('Blockchain transaction error:', txError);\n          alert(`Habit logged but blockchain transaction failed: ${txError.message}`);\n        }\n      } else if (mcpResult && mcpResult.aiMessage) {\n        alert(mcpResult.aiMessage);\n      }\n\n      // Reset form and refresh data\n      setLogForm({\n        completed: true,\n        notes: '',\n        date: new Date().toISOString().split('T')[0]\n      });\n      setShowLogForm(false);\n      fetchHabitDetails();\n      fetchHabitStats();\n    } catch (error) {\n      console.error('Error logging habit:', error);\n      alert('Failed to log habit. Please try again.');\n    } finally {\n      setLogging(false);\n    }\n  };\n  const handleDeleteHabit = async () => {\n    if (!window.confirm('Are you sure you want to delete this habit? This action cannot be undone.')) {\n      return;\n    }\n    try {\n      await axios.delete(`/habits/${id}`);\n      navigate('/dashboard');\n    } catch (error) {\n      console.error('Error deleting habit:', error);\n      alert('Failed to delete habit. Please try again.');\n    }\n  };\n  const getStreakEmoji = streak => {\n    if (streak >= 30) return '🏆';\n    if (streak >= 14) return '🔥';\n    if (streak >= 7) return '⭐';\n    if (streak >= 3) return '💪';\n    return '🌱';\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading habit details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 12\n    }, this);\n  }\n  if (!habit) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: \"Habit not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"habit-detail\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"habit-detail-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"habit-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/dashboard'),\n          className: \"back-btn\",\n          children: \"\\u2190 Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"habit-title-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: habit.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), habit.description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"habit-description\",\n            children: habit.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDeleteHabit,\n          className: \"delete-btn\",\n          children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: getStreakEmoji(habit.currentStreak)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: habit.currentStreak\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Current Streak\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83C\\uDFC5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: habit.longestStreak\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Best Streak\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCB0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: habit.stakeAmount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"MATIC per Day\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u26A0\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: habit.totalStaked\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"MATIC at Stake\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), stats && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-icon\",\n              children: \"\\uD83D\\uDCCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [stats.completionRate, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Success Rate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-icon\",\n              children: \"\\uD83D\\uDCC5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: stats.totalLogs\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Total Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"schedule-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"schedule-days\",\n          children: habit.daysOfWeek.map(day => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"schedule-day\",\n            children: day\n          }, day, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"log-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"log-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Log Entry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowLogForm(!showLogForm),\n            className: \"toggle-log-btn\",\n            children: showLogForm ? 'Cancel' : '+ Add Entry'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), showLogForm && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLogHabit,\n          className: \"log-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"date\",\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"date\",\n              value: logForm.date,\n              onChange: e => setLogForm(prev => ({\n                ...prev,\n                date: e.target.value\n              })),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `status-btn ${logForm.completed ? 'active success' : ''}`,\n                onClick: () => setLogForm(prev => ({\n                  ...prev,\n                  completed: true\n                })),\n                children: \"\\u2705 Completed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `status-btn ${!logForm.completed ? 'active failure' : ''}`,\n                onClick: () => setLogForm(prev => ({\n                  ...prev,\n                  completed: false\n                })),\n                children: \"\\u274C Failed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"notes\",\n              children: \"Notes (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"notes\",\n              value: logForm.notes,\n              onChange: e => setLogForm(prev => ({\n                ...prev,\n                notes: e.target.value\n              })),\n              placeholder: \"Add notes about this day...\",\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: logging,\n            className: \"submit-log-btn\",\n            children: logging ? 'Logging...' : 'Log Entry'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Activity History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), logs.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logs-list\",\n          children: logs.map(log => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `log-item ${log.completed ? 'completed' : 'failed'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"log-date\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"date-main\",\n                children: new Date(log.date).toLocaleDateString('en-US', {\n                  month: 'short',\n                  day: 'numeric'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"date-year\",\n                children: new Date(log.date).getFullYear()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"log-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"log-status\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge ${log.completed ? 'success' : 'failure'}`,\n                  children: log.completed ? '✅ Completed' : '❌ Failed'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this), log.streakCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"streak-badge\",\n                  children: [\"\\uD83D\\uDD25 \", log.streakCount, \" day streak\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 21\n              }, this), log.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"log-notes\",\n                children: [\"\\\"\", log.notes, \"\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"log-meta\",\n                children: [\"Logged on \", formatDate(log.loggedAt), log.punishmentTriggered && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"punishment-badge\",\n                  children: \"\\u26A0\\uFE0F Punishment triggered\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 25\n                }, this), log.rewardTriggered && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"reward-badge\",\n                  children: \"\\uD83C\\uDFC6 Reward earned\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 19\n            }, this)]\n          }, log._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-logs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"empty-icon\",\n            children: \"\\uD83D\\uDCDD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No activity logged yet. Start tracking your habit!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n};\n_s(HabitDetail, \"uVaJehMlaFA94nJyMc5S8UCknVQ=\", false, function () {\n  return [useParams, useNavigate, useWallet];\n});\n_c = HabitDetail;\nexport default HabitDetail;\nvar _c;\n$RefreshReg$(_c, \"HabitDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","useWallet","jsxDEV","_jsxDEV","Fragment","_Fragment","HabitDetail","_s","id","navigate","sendTransaction","account","habit","setHabit","logs","setLogs","stats","setStats","loading","setLoading","logging","setLogging","showLogForm","setShowLogForm","logForm","setLogForm","completed","notes","date","Date","toISOString","split","fetchHabitDetails","fetchHabitStats","response","get","data","error","_error$response","console","status","handleLogHabit","e","preventDefault","alert","post","mcpResult","txData","tx","to","value","gasLimit","put","transaction","transactionHash","hash","aiMessage","txError","message","handleDeleteHabit","window","confirm","delete","getStreakEmoji","streak","formatDate","dateString","toLocaleDateString","weekday","year","month","day","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","name","description","currentStreak","longestStreak","stakeAmount","totalStaked","completionRate","totalLogs","daysOfWeek","map","onSubmit","htmlFor","type","onChange","prev","target","required","placeholder","rows","disabled","length","log","getFullYear","streakCount","loggedAt","punishmentTriggered","rewardTriggered","_id","_c","$RefreshReg$"],"sources":["C:/aya/client/src/components/HabitDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useWallet } from '../contexts/WalletContext';\nimport './HabitDetail.css';\n\nconst HabitDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { sendTransaction, account } = useWallet();\n  \n  const [habit, setHabit] = useState(null);\n  const [logs, setLogs] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [logging, setLogging] = useState(false);\n  const [showLogForm, setShowLogForm] = useState(false);\n  const [logForm, setLogForm] = useState({\n    completed: true,\n    notes: '',\n    date: new Date().toISOString().split('T')[0]\n  });\n\n  useEffect(() => {\n    fetchHabitDetails();\n    fetchHabitStats();\n  }, [id]);\n\n  const fetchHabitDetails = async () => {\n    try {\n      const response = await axios.get(`/habits/${id}`);\n      setHabit(response.data.habit);\n      setLogs(response.data.logs || []);\n    } catch (error) {\n      console.error('Error fetching habit details:', error);\n      if (error.response?.status === 404) {\n        navigate('/dashboard');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchHabitStats = async () => {\n    try {\n      const response = await axios.get(`/habits/${id}/stats`);\n      setStats(response.data.stats);\n    } catch (error) {\n      console.error('Error fetching habit stats:', error);\n    }\n  };\n\n  const handleLogHabit = async (e) => {\n    e.preventDefault();\n    \n    if (!account) {\n      alert('Please connect your wallet first');\n      return;\n    }\n\n    setLogging(true);\n    \n    try {\n      const response = await axios.post(`/habits/${id}/log`, logForm);\n      const { mcpResult } = response.data;\n\n      // If there's a blockchain transaction to execute\n      if (mcpResult && mcpResult.txData) {\n        try {\n          const tx = await sendTransaction(\n            mcpResult.txData.to,\n            mcpResult.txData.value,\n            mcpResult.txData.gasLimit\n          );\n\n          // Update transaction with real hash\n          await axios.put(`/transactions/${mcpResult.transaction.id}/status`, {\n            status: 'pending',\n            transactionHash: tx.hash\n          });\n\n          alert(`Transaction sent! ${mcpResult.aiMessage}`);\n        } catch (txError) {\n          console.error('Blockchain transaction error:', txError);\n          alert(`Habit logged but blockchain transaction failed: ${txError.message}`);\n        }\n      } else if (mcpResult && mcpResult.aiMessage) {\n        alert(mcpResult.aiMessage);\n      }\n\n      // Reset form and refresh data\n      setLogForm({\n        completed: true,\n        notes: '',\n        date: new Date().toISOString().split('T')[0]\n      });\n      setShowLogForm(false);\n      fetchHabitDetails();\n      fetchHabitStats();\n\n    } catch (error) {\n      console.error('Error logging habit:', error);\n      alert('Failed to log habit. Please try again.');\n    } finally {\n      setLogging(false);\n    }\n  };\n\n  const handleDeleteHabit = async () => {\n    if (!window.confirm('Are you sure you want to delete this habit? This action cannot be undone.')) {\n      return;\n    }\n\n    try {\n      await axios.delete(`/habits/${id}`);\n      navigate('/dashboard');\n    } catch (error) {\n      console.error('Error deleting habit:', error);\n      alert('Failed to delete habit. Please try again.');\n    }\n  };\n\n  const getStreakEmoji = (streak) => {\n    if (streak >= 30) return '🏆';\n    if (streak >= 14) return '🔥';\n    if (streak >= 7) return '⭐';\n    if (streak >= 3) return '💪';\n    return '🌱';\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading habit details...</div>;\n  }\n\n  if (!habit) {\n    return <div className=\"error\">Habit not found</div>;\n  }\n\n  return (\n    <div className=\"habit-detail\">\n      <div className=\"habit-detail-container\">\n        {/* Header */}\n        <div className=\"habit-header\">\n          <button onClick={() => navigate('/dashboard')} className=\"back-btn\">\n            ← Back to Dashboard\n          </button>\n          <div className=\"habit-title-section\">\n            <h1>{habit.name}</h1>\n            {habit.description && <p className=\"habit-description\">{habit.description}</p>}\n          </div>\n          <button onClick={handleDeleteHabit} className=\"delete-btn\">\n            🗑️ Delete\n          </button>\n        </div>\n\n        {/* Stats Grid */}\n        <div className=\"stats-grid\">\n          <div className=\"stat-card\">\n            <div className=\"stat-icon\">{getStreakEmoji(habit.currentStreak)}</div>\n            <div className=\"stat-content\">\n              <h3>{habit.currentStreak}</h3>\n              <p>Current Streak</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon\">🏅</div>\n            <div className=\"stat-content\">\n              <h3>{habit.longestStreak}</h3>\n              <p>Best Streak</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon\">💰</div>\n            <div className=\"stat-content\">\n              <h3>{habit.stakeAmount}</h3>\n              <p>MATIC per Day</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon\">⚠️</div>\n            <div className=\"stat-content\">\n              <h3>{habit.totalStaked}</h3>\n              <p>MATIC at Stake</p>\n            </div>\n          </div>\n\n          {stats && (\n            <>\n              <div className=\"stat-card\">\n                <div className=\"stat-icon\">📊</div>\n                <div className=\"stat-content\">\n                  <h3>{stats.completionRate}%</h3>\n                  <p>Success Rate</p>\n                </div>\n              </div>\n              \n              <div className=\"stat-card\">\n                <div className=\"stat-icon\">📅</div>\n                <div className=\"stat-content\">\n                  <h3>{stats.totalLogs}</h3>\n                  <p>Total Days</p>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n\n        {/* Schedule */}\n        <div className=\"schedule-section\">\n          <h2>Schedule</h2>\n          <div className=\"schedule-days\">\n            {habit.daysOfWeek.map(day => (\n              <span key={day} className=\"schedule-day\">{day}</span>\n            ))}\n          </div>\n        </div>\n\n        {/* Log New Entry */}\n        <div className=\"log-section\">\n          <div className=\"log-header\">\n            <h2>Log Entry</h2>\n            <button \n              onClick={() => setShowLogForm(!showLogForm)}\n              className=\"toggle-log-btn\"\n            >\n              {showLogForm ? 'Cancel' : '+ Add Entry'}\n            </button>\n          </div>\n\n          {showLogForm && (\n            <form onSubmit={handleLogHabit} className=\"log-form\">\n              <div className=\"form-group\">\n                <label htmlFor=\"date\">Date</label>\n                <input\n                  type=\"date\"\n                  id=\"date\"\n                  value={logForm.date}\n                  onChange={(e) => setLogForm(prev => ({ ...prev, date: e.target.value }))}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Status</label>\n                <div className=\"status-buttons\">\n                  <button\n                    type=\"button\"\n                    className={`status-btn ${logForm.completed ? 'active success' : ''}`}\n                    onClick={() => setLogForm(prev => ({ ...prev, completed: true }))}\n                  >\n                    ✅ Completed\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={`status-btn ${!logForm.completed ? 'active failure' : ''}`}\n                    onClick={() => setLogForm(prev => ({ ...prev, completed: false }))}\n                  >\n                    ❌ Failed\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"notes\">Notes (Optional)</label>\n                <textarea\n                  id=\"notes\"\n                  value={logForm.notes}\n                  onChange={(e) => setLogForm(prev => ({ ...prev, notes: e.target.value }))}\n                  placeholder=\"Add notes about this day...\"\n                  rows={3}\n                />\n              </div>\n\n              <button type=\"submit\" disabled={logging} className=\"submit-log-btn\">\n                {logging ? 'Logging...' : 'Log Entry'}\n              </button>\n            </form>\n          )}\n        </div>\n\n        {/* Activity History */}\n        <div className=\"history-section\">\n          <h2>Activity History</h2>\n          \n          {logs.length > 0 ? (\n            <div className=\"logs-list\">\n              {logs.map(log => (\n                <div key={log._id} className={`log-item ${log.completed ? 'completed' : 'failed'}`}>\n                  <div className=\"log-date\">\n                    <div className=\"date-main\">\n                      {new Date(log.date).toLocaleDateString('en-US', { \n                        month: 'short', \n                        day: 'numeric' \n                      })}\n                    </div>\n                    <div className=\"date-year\">\n                      {new Date(log.date).getFullYear()}\n                    </div>\n                  </div>\n                  \n                  <div className=\"log-content\">\n                    <div className=\"log-status\">\n                      <span className={`status-badge ${log.completed ? 'success' : 'failure'}`}>\n                        {log.completed ? '✅ Completed' : '❌ Failed'}\n                      </span>\n                      {log.streakCount > 0 && (\n                        <span className=\"streak-badge\">\n                          🔥 {log.streakCount} day streak\n                        </span>\n                      )}\n                    </div>\n                    \n                    {log.notes && (\n                      <div className=\"log-notes\">\n                        \"{log.notes}\"\n                      </div>\n                    )}\n                    \n                    <div className=\"log-meta\">\n                      Logged on {formatDate(log.loggedAt)}\n                      {log.punishmentTriggered && (\n                        <span className=\"punishment-badge\">⚠️ Punishment triggered</span>\n                      )}\n                      {log.rewardTriggered && (\n                        <span className=\"reward-badge\">🏆 Reward earned</span>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"empty-logs\">\n              <span className=\"empty-icon\">📝</span>\n              <p>No activity logged yet. Start tracking your habit!</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HabitDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}