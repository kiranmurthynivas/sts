{"ast":null,"code":"// ElizaOS AI Service for Conversational Habit Creation\nimport axios from 'axios';\nclass ElizaService {\n  constructor() {\n    this.baseURL = 'https://launch.comput3.ai'; // Comput3 API endpoint\n    this.conversationHistory = [];\n    this.habitData = {\n      name: '',\n      description: '',\n      frequency: 'daily',\n      daysOfWeek: [],\n      stakeAmount: 0,\n      category: '',\n      reminderTime: '',\n      difficulty: 'medium'\n    };\n  }\n\n  // Initialize conversation with ElizaOS\n  async startConversation() {\n    const initialPrompt = `You are Eliza, a friendly and motivational AI assistant for the \"Stake-for-Shame\" crypto-powered habit accountability app. Your job is to help users create new habits through natural conversation.\n\nIMPORTANT GUIDELINES:\n1. Be conversational, friendly, and slightly playful with crypto/meme references\n2. Extract habit information naturally through conversation\n3. Ask follow-up questions to get complete habit details\n4. Use emojis and crypto slang occasionally (HODL, diamond hands, etc.)\n5. Be encouraging but also mention the \"shame\" aspect humorously\n\nINFORMATION TO COLLECT:\n- Habit name (what they want to do)\n- Description (more details about the habit)\n- Frequency (daily, weekly, custom days)\n- Days of week (if not daily)\n- Stake amount in MATIC (how much they're willing to lose)\n- Category (health, productivity, learning, etc.)\n- Reminder time (optional)\n- Difficulty level (easy, medium, hard)\n\nStart by greeting the user and asking what habit they'd like to create. Make it engaging and mention that they'll be staking crypto against their commitment!`;\n    try {\n      await axios.post(`${this.baseURL}/api/chat`, {\n        message: initialPrompt,\n        conversation_id: this.generateConversationId(),\n        model: 'llama-3-8b-instruct',\n        system_prompt: initialPrompt\n      });\n      const aiResponse = {\n        message: \"Hey there, future habit champion! ðŸ’ªâœ¨ Welcome to Stake-for-Shame, where we turn your good intentions into crypto-backed commitments! ðŸš€\\n\\nI'm Eliza, your AI habit coach, and I'm here to help you create a habit that'll stick (because nobody wants to lose their precious MATIC, right? ðŸ˜…).\\n\\nSo, what habit are you looking to build? Maybe something like working out, reading, coding, or perhaps finally organizing that crypto portfolio? Tell me what you want to commit to! ðŸ’ŽðŸ™Œ\",\n        isComplete: false,\n        extractedData: {}\n      };\n      this.conversationHistory.push({\n        role: 'assistant',\n        content: aiResponse.message,\n        timestamp: new Date().toISOString()\n      });\n      return aiResponse;\n    } catch (error) {\n      console.error('Error starting conversation with ElizaOS:', error);\n      return {\n        message: \"Hey there! ðŸ‘‹ I'm Eliza, your AI habit coach! I'm here to help you create an awesome habit backed by crypto stakes. What habit would you like to work on today? ðŸ’ª\",\n        isComplete: false,\n        extractedData: {}\n      };\n    }\n  }\n\n  // Send user message and get AI response\n  async sendMessage(userMessage) {\n    this.conversationHistory.push({\n      role: 'user',\n      content: userMessage,\n      timestamp: new Date().toISOString()\n    });\n    try {\n      const conversationContext = this.conversationHistory.slice(-6) // Keep last 6 messages for context\n      .map(msg => `${msg.role}: ${msg.content}`).join('\\n');\n      const systemPrompt = `You are Eliza, helping create a habit for the Stake-for-Shame app. Based on the conversation, extract habit information and respond naturally.\n\nCURRENT EXTRACTED DATA: ${JSON.stringify(this.habitData, null, 2)}\n\nINSTRUCTIONS:\n1. Continue the natural conversation\n2. Ask follow-up questions for missing information\n3. When you have enough information, indicate completion\n4. Be encouraging but mention the crypto stakes humorously\n5. Use crypto/meme references occasionally\n\nREQUIRED INFO TO COLLECT:\n- Habit name and description\n- Frequency (daily/weekly/custom)\n- Days of week (if not daily)\n- Stake amount in MATIC\n- Category and difficulty\n\nIf you have all required information, end your response with: [HABIT_COMPLETE]`;\n      const response = await axios.post(`${this.baseURL}/api/chat`, {\n        message: `${conversationContext}\\nuser: ${userMessage}`,\n        conversation_id: this.generateConversationId(),\n        model: 'llama-3-8b-instruct',\n        system_prompt: systemPrompt\n      });\n      let aiMessage = response.data.response || response.data.message || \"I'm here to help you create an amazing habit! Tell me more about what you'd like to work on.\";\n\n      // Extract habit information from the conversation\n      this.extractHabitData(userMessage, aiMessage);\n\n      // Check if habit creation is complete\n      const isComplete = aiMessage.includes('[HABIT_COMPLETE]') || this.isHabitDataComplete();\n      if (isComplete) {\n        aiMessage = aiMessage.replace('[HABIT_COMPLETE]', '').trim();\n        aiMessage += \"\\n\\nðŸŽ‰ Perfect! I've got all the details for your habit. Ready to stake your MATIC and make this commitment official? Your future self will thank you (and your wallet will motivate you)! ðŸ’ŽðŸš€\";\n      }\n      const aiResponse = {\n        message: aiMessage,\n        isComplete: isComplete,\n        extractedData: isComplete ? this.habitData : {}\n      };\n      this.conversationHistory.push({\n        role: 'assistant',\n        content: aiMessage,\n        timestamp: new Date().toISOString()\n      });\n      return aiResponse;\n    } catch (error) {\n      console.error('Error communicating with ElizaOS:', error);\n\n      // Fallback response with basic extraction\n      this.extractHabitData(userMessage, '');\n      const fallbackResponse = this.generateFallbackResponse(userMessage);\n      this.conversationHistory.push({\n        role: 'assistant',\n        content: fallbackResponse.message,\n        timestamp: new Date().toISOString()\n      });\n      return fallbackResponse;\n    }\n  }\n\n  // Extract habit data from conversation\n  extractHabitData(userMessage, aiMessage) {\n    const message = userMessage.toLowerCase();\n\n    // Extract habit name\n    if (!this.habitData.name && (message.includes('want to') || message.includes('habit') || message.includes('do'))) {\n      const patterns = [/want to (.+?)(?:\\.|$|,)/, /habit (?:of |is )?(.+?)(?:\\.|$|,)/, /do (.+?)(?:\\.|$|,)/, /start (.+?)(?:\\.|$|,)/];\n      for (const pattern of patterns) {\n        const match = message.match(pattern);\n        if (match && match[1].length > 2) {\n          this.habitData.name = match[1].trim();\n          break;\n        }\n      }\n    }\n\n    // Extract frequency\n    if (message.includes('daily') || message.includes('every day')) {\n      this.habitData.frequency = 'daily';\n      this.habitData.daysOfWeek = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];\n    } else if (message.includes('weekly') || message.includes('once a week')) {\n      this.habitData.frequency = 'weekly';\n    }\n\n    // Extract days of week\n    const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];\n    const foundDays = days.filter(day => message.includes(day));\n    if (foundDays.length > 0) {\n      this.habitData.daysOfWeek = foundDays;\n      this.habitData.frequency = 'custom';\n    }\n\n    // Extract stake amount\n    const stakeMatch = message.match(/(\\d+(?:\\.\\d+)?)\\s*(?:matic|tokens?|coins?)/);\n    if (stakeMatch) {\n      this.habitData.stakeAmount = parseFloat(stakeMatch[1]);\n    }\n\n    // Extract category\n    const categories = {\n      'health': ['exercise', 'workout', 'gym', 'run', 'fitness', 'health', 'diet', 'eat'],\n      'productivity': ['work', 'code', 'study', 'learn', 'read', 'write', 'productivity'],\n      'personal': ['meditate', 'journal', 'sleep', 'wake', 'personal', 'habit'],\n      'finance': ['save', 'invest', 'budget', 'money', 'crypto', 'trading']\n    };\n    for (const [category, keywords] of Object.entries(categories)) {\n      if (keywords.some(keyword => message.includes(keyword))) {\n        this.habitData.category = category;\n        break;\n      }\n    }\n\n    // Extract difficulty\n    if (message.includes('easy') || message.includes('simple')) {\n      this.habitData.difficulty = 'easy';\n    } else if (message.includes('hard') || message.includes('difficult') || message.includes('challenging')) {\n      this.habitData.difficulty = 'hard';\n    }\n\n    // Set description if not set\n    if (!this.habitData.description && this.habitData.name) {\n      this.habitData.description = `${this.habitData.name} - Created through AI conversation`;\n    }\n  }\n\n  // Check if habit data is complete\n  isHabitDataComplete() {\n    return this.habitData.name && this.habitData.frequency && this.habitData.stakeAmount > 0 && (this.habitData.frequency === 'daily' || this.habitData.daysOfWeek.length > 0);\n  }\n\n  // Generate fallback response when API fails\n  generateFallbackResponse(userMessage) {\n    if (!this.habitData.name) {\n      return {\n        message: \"That sounds interesting! Can you tell me more specifically what habit you'd like to build? For example, 'I want to exercise daily' or 'I want to read for 30 minutes'? ðŸ“šðŸ’ª\",\n        isComplete: false,\n        extractedData: {}\n      };\n    } else if (!this.habitData.stakeAmount) {\n      return {\n        message: `Great! So you want to work on \"${this.habitData.name}\". Now, how much MATIC are you willing to stake against this habit? Remember, if you fail, this goes to charity! ðŸ’¸ Maybe 1 MATIC? 5 MATIC? How much will motivate you? ðŸ’Ž`,\n        isComplete: false,\n        extractedData: {}\n      };\n    } else if (this.habitData.frequency !== 'daily' && this.habitData.daysOfWeek.length === 0) {\n      return {\n        message: \"Perfect! Now, which days of the week do you want to do this? You can say something like 'Monday, Wednesday, Friday' or 'weekdays only' or 'daily'. What works best for you? ðŸ“…\",\n        isComplete: false,\n        extractedData: {}\n      };\n    } else if (this.isHabitDataComplete()) {\n      return {\n        message: \"ðŸŽ‰ Awesome! I think I have everything I need to create your habit. Ready to make this official and stake your MATIC? Your crypto is about to become your accountability partner! ðŸš€ðŸ’Ž\",\n        isComplete: true,\n        extractedData: this.habitData\n      };\n    } else {\n      return {\n        message: \"Tell me a bit more about your habit! I want to make sure we set you up for success (and keep your MATIC safe)! ðŸ˜„ðŸ’ª\",\n        isComplete: false,\n        extractedData: {}\n      };\n    }\n  }\n\n  // Generate unique conversation ID\n  generateConversationId() {\n    return `habit_creation_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  // Reset conversation\n  resetConversation() {\n    this.conversationHistory = [];\n    this.habitData = {\n      name: '',\n      description: '',\n      frequency: 'daily',\n      daysOfWeek: [],\n      stakeAmount: 0,\n      category: '',\n      reminderTime: '',\n      difficulty: 'medium'\n    };\n  }\n\n  // Get current habit data\n  getHabitData() {\n    return {\n      ...this.habitData\n    };\n  }\n\n  // Get conversation history\n  getConversationHistory() {\n    return [...this.conversationHistory];\n  }\n}\nconst elizaServiceInstance = new ElizaService();\nexport default elizaServiceInstance;","map":{"version":3,"names":["axios","ElizaService","constructor","baseURL","conversationHistory","habitData","name","description","frequency","daysOfWeek","stakeAmount","category","reminderTime","difficulty","startConversation","initialPrompt","post","message","conversation_id","generateConversationId","model","system_prompt","aiResponse","isComplete","extractedData","push","role","content","timestamp","Date","toISOString","error","console","sendMessage","userMessage","conversationContext","slice","map","msg","join","systemPrompt","JSON","stringify","response","aiMessage","data","extractHabitData","includes","isHabitDataComplete","replace","trim","fallbackResponse","generateFallbackResponse","toLowerCase","patterns","pattern","match","length","days","foundDays","filter","day","stakeMatch","parseFloat","categories","keywords","Object","entries","some","keyword","now","Math","random","toString","substr","resetConversation","getHabitData","getConversationHistory","elizaServiceInstance"],"sources":["C:/aya/client/src/services/elizaService.js"],"sourcesContent":["// ElizaOS AI Service for Conversational Habit Creation\nimport axios from 'axios';\n\nclass ElizaService {\n  constructor() {\n    this.baseURL = 'https://launch.comput3.ai'; // Comput3 API endpoint\n    this.conversationHistory = [];\n    this.habitData = {\n      name: '',\n      description: '',\n      frequency: 'daily',\n      daysOfWeek: [],\n      stakeAmount: 0,\n      category: '',\n      reminderTime: '',\n      difficulty: 'medium'\n    };\n  }\n\n  // Initialize conversation with ElizaOS\n  async startConversation() {\n    const initialPrompt = `You are Eliza, a friendly and motivational AI assistant for the \"Stake-for-Shame\" crypto-powered habit accountability app. Your job is to help users create new habits through natural conversation.\n\nIMPORTANT GUIDELINES:\n1. Be conversational, friendly, and slightly playful with crypto/meme references\n2. Extract habit information naturally through conversation\n3. Ask follow-up questions to get complete habit details\n4. Use emojis and crypto slang occasionally (HODL, diamond hands, etc.)\n5. Be encouraging but also mention the \"shame\" aspect humorously\n\nINFORMATION TO COLLECT:\n- Habit name (what they want to do)\n- Description (more details about the habit)\n- Frequency (daily, weekly, custom days)\n- Days of week (if not daily)\n- Stake amount in MATIC (how much they're willing to lose)\n- Category (health, productivity, learning, etc.)\n- Reminder time (optional)\n- Difficulty level (easy, medium, hard)\n\nStart by greeting the user and asking what habit they'd like to create. Make it engaging and mention that they'll be staking crypto against their commitment!`;\n\n    try {\n      await axios.post(`${this.baseURL}/api/chat`, {\n        message: initialPrompt,\n        conversation_id: this.generateConversationId(),\n        model: 'llama-3-8b-instruct',\n        system_prompt: initialPrompt\n      });\n\n      const aiResponse = {\n        message: \"Hey there, future habit champion! ðŸ’ªâœ¨ Welcome to Stake-for-Shame, where we turn your good intentions into crypto-backed commitments! ðŸš€\\n\\nI'm Eliza, your AI habit coach, and I'm here to help you create a habit that'll stick (because nobody wants to lose their precious MATIC, right? ðŸ˜…).\\n\\nSo, what habit are you looking to build? Maybe something like working out, reading, coding, or perhaps finally organizing that crypto portfolio? Tell me what you want to commit to! ðŸ’ŽðŸ™Œ\",\n        isComplete: false,\n        extractedData: {}\n      };\n\n      this.conversationHistory.push({\n        role: 'assistant',\n        content: aiResponse.message,\n        timestamp: new Date().toISOString()\n      });\n\n      return aiResponse;\n    } catch (error) {\n      console.error('Error starting conversation with ElizaOS:', error);\n      return {\n        message: \"Hey there! ðŸ‘‹ I'm Eliza, your AI habit coach! I'm here to help you create an awesome habit backed by crypto stakes. What habit would you like to work on today? ðŸ’ª\",\n        isComplete: false,\n        extractedData: {}\n      };\n    }\n  }\n\n  // Send user message and get AI response\n  async sendMessage(userMessage) {\n    this.conversationHistory.push({\n      role: 'user',\n      content: userMessage,\n      timestamp: new Date().toISOString()\n    });\n\n    try {\n      const conversationContext = this.conversationHistory\n        .slice(-6) // Keep last 6 messages for context\n        .map(msg => `${msg.role}: ${msg.content}`)\n        .join('\\n');\n\n      const systemPrompt = `You are Eliza, helping create a habit for the Stake-for-Shame app. Based on the conversation, extract habit information and respond naturally.\n\nCURRENT EXTRACTED DATA: ${JSON.stringify(this.habitData, null, 2)}\n\nINSTRUCTIONS:\n1. Continue the natural conversation\n2. Ask follow-up questions for missing information\n3. When you have enough information, indicate completion\n4. Be encouraging but mention the crypto stakes humorously\n5. Use crypto/meme references occasionally\n\nREQUIRED INFO TO COLLECT:\n- Habit name and description\n- Frequency (daily/weekly/custom)\n- Days of week (if not daily)\n- Stake amount in MATIC\n- Category and difficulty\n\nIf you have all required information, end your response with: [HABIT_COMPLETE]`;\n\n      const response = await axios.post(`${this.baseURL}/api/chat`, {\n        message: `${conversationContext}\\nuser: ${userMessage}`,\n        conversation_id: this.generateConversationId(),\n        model: 'llama-3-8b-instruct',\n        system_prompt: systemPrompt\n      });\n\n      let aiMessage = response.data.response || response.data.message || \"I'm here to help you create an amazing habit! Tell me more about what you'd like to work on.\";\n      \n      // Extract habit information from the conversation\n      this.extractHabitData(userMessage, aiMessage);\n      \n      // Check if habit creation is complete\n      const isComplete = aiMessage.includes('[HABIT_COMPLETE]') || this.isHabitDataComplete();\n      \n      if (isComplete) {\n        aiMessage = aiMessage.replace('[HABIT_COMPLETE]', '').trim();\n        aiMessage += \"\\n\\nðŸŽ‰ Perfect! I've got all the details for your habit. Ready to stake your MATIC and make this commitment official? Your future self will thank you (and your wallet will motivate you)! ðŸ’ŽðŸš€\";\n      }\n\n      const aiResponse = {\n        message: aiMessage,\n        isComplete: isComplete,\n        extractedData: isComplete ? this.habitData : {}\n      };\n\n      this.conversationHistory.push({\n        role: 'assistant',\n        content: aiMessage,\n        timestamp: new Date().toISOString()\n      });\n\n      return aiResponse;\n    } catch (error) {\n      console.error('Error communicating with ElizaOS:', error);\n      \n      // Fallback response with basic extraction\n      this.extractHabitData(userMessage, '');\n      \n      const fallbackResponse = this.generateFallbackResponse(userMessage);\n      \n      this.conversationHistory.push({\n        role: 'assistant',\n        content: fallbackResponse.message,\n        timestamp: new Date().toISOString()\n      });\n\n      return fallbackResponse;\n    }\n  }\n\n  // Extract habit data from conversation\n  extractHabitData(userMessage, aiMessage) {\n    const message = userMessage.toLowerCase();\n    \n    // Extract habit name\n    if (!this.habitData.name && (message.includes('want to') || message.includes('habit') || message.includes('do'))) {\n      const patterns = [\n        /want to (.+?)(?:\\.|$|,)/,\n        /habit (?:of |is )?(.+?)(?:\\.|$|,)/,\n        /do (.+?)(?:\\.|$|,)/,\n        /start (.+?)(?:\\.|$|,)/\n      ];\n      \n      for (const pattern of patterns) {\n        const match = message.match(pattern);\n        if (match && match[1].length > 2) {\n          this.habitData.name = match[1].trim();\n          break;\n        }\n      }\n    }\n\n    // Extract frequency\n    if (message.includes('daily') || message.includes('every day')) {\n      this.habitData.frequency = 'daily';\n      this.habitData.daysOfWeek = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];\n    } else if (message.includes('weekly') || message.includes('once a week')) {\n      this.habitData.frequency = 'weekly';\n    }\n\n    // Extract days of week\n    const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];\n    const foundDays = days.filter(day => message.includes(day));\n    if (foundDays.length > 0) {\n      this.habitData.daysOfWeek = foundDays;\n      this.habitData.frequency = 'custom';\n    }\n\n    // Extract stake amount\n    const stakeMatch = message.match(/(\\d+(?:\\.\\d+)?)\\s*(?:matic|tokens?|coins?)/);\n    if (stakeMatch) {\n      this.habitData.stakeAmount = parseFloat(stakeMatch[1]);\n    }\n\n    // Extract category\n    const categories = {\n      'health': ['exercise', 'workout', 'gym', 'run', 'fitness', 'health', 'diet', 'eat'],\n      'productivity': ['work', 'code', 'study', 'learn', 'read', 'write', 'productivity'],\n      'personal': ['meditate', 'journal', 'sleep', 'wake', 'personal', 'habit'],\n      'finance': ['save', 'invest', 'budget', 'money', 'crypto', 'trading']\n    };\n\n    for (const [category, keywords] of Object.entries(categories)) {\n      if (keywords.some(keyword => message.includes(keyword))) {\n        this.habitData.category = category;\n        break;\n      }\n    }\n\n    // Extract difficulty\n    if (message.includes('easy') || message.includes('simple')) {\n      this.habitData.difficulty = 'easy';\n    } else if (message.includes('hard') || message.includes('difficult') || message.includes('challenging')) {\n      this.habitData.difficulty = 'hard';\n    }\n\n    // Set description if not set\n    if (!this.habitData.description && this.habitData.name) {\n      this.habitData.description = `${this.habitData.name} - Created through AI conversation`;\n    }\n  }\n\n  // Check if habit data is complete\n  isHabitDataComplete() {\n    return this.habitData.name && \n           this.habitData.frequency && \n           this.habitData.stakeAmount > 0 &&\n           (this.habitData.frequency === 'daily' || this.habitData.daysOfWeek.length > 0);\n  }\n\n  // Generate fallback response when API fails\n  generateFallbackResponse(userMessage) {\n    if (!this.habitData.name) {\n      return {\n        message: \"That sounds interesting! Can you tell me more specifically what habit you'd like to build? For example, 'I want to exercise daily' or 'I want to read for 30 minutes'? ðŸ“šðŸ’ª\",\n        isComplete: false,\n        extractedData: {}\n      };\n    } else if (!this.habitData.stakeAmount) {\n      return {\n        message: `Great! So you want to work on \"${this.habitData.name}\". Now, how much MATIC are you willing to stake against this habit? Remember, if you fail, this goes to charity! ðŸ’¸ Maybe 1 MATIC? 5 MATIC? How much will motivate you? ðŸ’Ž`,\n        isComplete: false,\n        extractedData: {}\n      };\n    } else if (this.habitData.frequency !== 'daily' && this.habitData.daysOfWeek.length === 0) {\n      return {\n        message: \"Perfect! Now, which days of the week do you want to do this? You can say something like 'Monday, Wednesday, Friday' or 'weekdays only' or 'daily'. What works best for you? ðŸ“…\",\n        isComplete: false,\n        extractedData: {}\n      };\n    } else if (this.isHabitDataComplete()) {\n      return {\n        message: \"ðŸŽ‰ Awesome! I think I have everything I need to create your habit. Ready to make this official and stake your MATIC? Your crypto is about to become your accountability partner! ðŸš€ðŸ’Ž\",\n        isComplete: true,\n        extractedData: this.habitData\n      };\n    } else {\n      return {\n        message: \"Tell me a bit more about your habit! I want to make sure we set you up for success (and keep your MATIC safe)! ðŸ˜„ðŸ’ª\",\n        isComplete: false,\n        extractedData: {}\n      };\n    }\n  }\n\n  // Generate unique conversation ID\n  generateConversationId() {\n    return `habit_creation_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  // Reset conversation\n  resetConversation() {\n    this.conversationHistory = [];\n    this.habitData = {\n      name: '',\n      description: '',\n      frequency: 'daily',\n      daysOfWeek: [],\n      stakeAmount: 0,\n      category: '',\n      reminderTime: '',\n      difficulty: 'medium'\n    };\n  }\n\n  // Get current habit data\n  getHabitData() {\n    return { ...this.habitData };\n  }\n\n  // Get conversation history\n  getConversationHistory() {\n    return [...this.conversationHistory];\n  }\n}\n\nconst elizaServiceInstance = new ElizaService();\nexport default elizaServiceInstance;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}